(function(e){function t(t){for(var n,o,c=t[0],s=t[1],l=t[2],f=0,p=[];f<c.length;f++)o=c[f],a[o]&&p.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/calendarOfAgeingMotivation/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},3553:function(e,t,r){},"3b54":function(e,t,r){},b018:function(e,t,r){"use strict";var n=r("3b54"),a=r.n(n);a.a},b328:function(e,t,r){},c7bc:function(e,t,r){"use strict";var n=r("3553"),a=r.n(n);a.a},cd49:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("CalendarOfAgeing")},i=[],o=r("c665"),c=r("dc0a"),s=r("d328"),l=r("11d9"),u=r("9ab4"),f=r("60a3"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AgeingProfile"},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.currentPage!==e.previousPage,expression:"currentPage !== previousPage"}],staticClass:"backToForm",attrs:{title:"Заполнить заново"},on:{click:function(t){e.getBack()}}}),"WhatIsIt"!==e.currentPage?r("button",{staticClass:"whatIsIt",on:{click:function(t){e.currentPage="WhatIsIt"}}},[e._v("?")]):e._e(),r(e.currentPage,{tag:"component",attrs:{profile:e.results.profile,currentLifeExpectancy:e.results.currentLifeExpectancy},on:{showResults:e.showResults}})],1)},v=[],m=r("aa9a"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ageingResults"},[r("div",{staticClass:"liveLine"},[r("div",{staticClass:"liveLine__inner"},[r("div",{staticClass:"liveLine__gotLived",style:[{width:e.gotLived+"%"}]})])]),r("div",{staticClass:"infoBox__wrapper"},[r("div",{staticClass:"infoBox"},[r("div",{staticClass:"infoBox__line"},[e._v(e._s(e.profile.name)+", "+e._s(e.profile.howOld)+", "+e._s(e.toLocal.gender(e.profile)))]),r("div",{staticClass:"infoBox__line"},[e._v(e._s(e.toLocal.country(e.profile)))]),r("div",{staticClass:"infoBox__line"},[e._v("Прожито "+e._s(e.gotLived+"%")+" жизни")])])]),e._m(0)])},h=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"source"},[r("div",{staticClass:"source__inner"},[e._v("\n      Основано на\n      "),r("a",{attrs:{href:"https://en.wikipedia.org/wiki/List_of_countries_by_life_expectancy#List_by_the_CIA_(2016)"}},[e._v("средней\n        продолжительности жизни [wiki]")])])])}],g=function(){function e(){Object(o["a"])(this,e)}return Object(m["a"])(e,[{key:"gender",value:function(e){var t="";switch(e.country){case"Ukraine":case"Russia":switch(e.gender){case"male":t=e.howOld<15?"Мальчик":e.howOld<25?"Парень":"Мужчина";break;case"female":t=e.howOld<15?"Девочка":e.howOld<30?"Девушка":"Женщина";break;case"overall":t="Пол не указан";break}break;default:return e.gender[0].toUpperCase()+e.gender.slice(1)}return t}},{key:"country",value:function(e){switch(e.country){case"Ukraine":return"Украина";case"Russia":return"Россия";case"Belarus":return"Белоруссия";default:return e.country}}}]),e}(),b=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.toLocal=new g,e}return Object(m["a"])(t,[{key:"gotLived",get:function(){if(this.profile.gender&&this.profile.howOld){var e=this.profile.gender.toString();return Math.round(this.profile.howOld/this.currentLifeExpectancy.getGender(e)*100)}return null}}]),Object(c["a"])(t,e),t}(f["c"]);u["a"]([Object(f["b"])(Object)],b.prototype,"profile",void 0),u["a"]([Object(f["b"])(Object)],b.prototype,"currentLifeExpectancy",void 0),b=u["a"]([f["a"]],b);var y=b,_=y,O=(r("c7bc"),r("2877")),w=Object(O["a"])(_,d,h,!1,null,"1aaae9e2",null);w.options.__file="AgeingResults.vue";var x=w.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ageingProfile"},[r("form",{staticClass:"ageingProfile__inner",on:{submit:function(t){t.preventDefault(),e.emitResults()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],staticClass:"nameInput",attrs:{type:"text",placeholder:"Как вас зовут?",maxlength:"20",required:"",autofocus:""},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}}),r("label",{staticClass:"dateOfBirthday"},[e._v("\n      Ваша дата рождения "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.birthDate,expression:"profile.birthDate"}],staticClass:"dateOfBirthday__input",attrs:{min:"1900-01-01",max:"2018-01-01",type:"date",required:""},domProps:{value:e.profile.birthDate},on:{input:function(t){t.target.composing||e.$set(e.profile,"birthDate",t.target.value)}}})]),r("div",{staticClass:"genderPicker"},[r("label",{staticClass:"genderPicker__option"},[e._v("\n        Я мужчина"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.gender,expression:"profile.gender"}],attrs:{type:"radio",name:"gender",value:"male",required:""},domProps:{checked:e._q(e.profile.gender,"male")},on:{change:function(t){e.$set(e.profile,"gender","male")}}})]),r("label",{staticClass:"genderPicker__option"},[e._v("\n        Я женщина "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.gender,expression:"profile.gender"}],attrs:{type:"radio",name:"gender",value:"female"},domProps:{checked:e._q(e.profile.gender,"female")},on:{change:function(t){e.$set(e.profile,"gender","female")}}})]),r("label",{staticClass:"genderPicker__option"},[e._v("\n        Не важно "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.gender,expression:"profile.gender"}],attrs:{type:"radio",name:"gender",value:"overall"},domProps:{checked:e._q(e.profile.gender,"overall")},on:{change:function(t){e.$set(e.profile,"gender","overall")}}})])]),r("label",{staticClass:"noSelect"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.memberMe,expression:"memberMe"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.memberMe)?e._i(e.memberMe,null)>-1:e.memberMe},on:{change:function(t){var r=e.memberMe,n=t.target,a=!!n.checked;if(Array.isArray(r)){var i=null,o=e._i(r,i);n.checked?o<0&&(e.memberMe=r.concat([i])):o>-1&&(e.memberMe=r.slice(0,o).concat(r.slice(o+1)))}else e.memberMe=a}}}),r("abbr",{attrs:{title:"Данные сохраняться только на вашем устройстве"}},[e._v(" Запомнить меня")])]),r("button",{attrs:{type:"submit"}},[e._v("ОК")])])])},k=[],P=r("a34a"),I=r.n(P),C=r("3040"),L=r("bc3a"),M=r.n(L),S=function(){function e(t,r,n,a){Object(o["a"])(this,e),this.gender=t,this.country=r,this.birthDate=n,this.name=a||null}return Object(m["a"])(e,[{key:"howOld",get:function(){if(this.birthDate){var e=new Date,t=new Date(Date.parse(this.birthDate)),r=e-t;return Math.floor(r/3.168808781402895*Math.pow(10,-10))}return-1}}]),e}(),E=function(){function e(t,r,n){Object(o["a"])(this,e),this.overall=t||0,this.male=r||0,this.female=n||0}return Object(m["a"])(e,[{key:"getGender",value:function(e){switch(e){case"overall":return this.overall;case"male":return this.male;case"female":return this.female}return this.overall}}]),e}(),A=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.currentLifeExpectancy=new E,e.profile=new S("male","",""),e.memberMe=!1,e}return Object(m["a"])(t,[{key:"mounted",value:function(){var e=Object(C["a"])(I.a.mark(function e(){var t,r;return I.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.tryGetProfileFromMemory(),!t){e.next=6;break}this.profile=t,this.memberMe=!0,e.next=14;break;case 6:return e.next=8,this.getUserCountry();case 8:if(r=e.sent,null!==r&&(this.profile.country=r),!this.profile.country){e.next=14;break}return e.next=13,this.getLifeExpectancyData(this.profile.country);case 13:this.currentLifeExpectancy=e.sent;case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserCountry",value:function(){var e=Object(C["a"])(I.a.mark(function e(){var t;return I.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("https://ipapi.co/json/");case 3:return t=e.sent,e.abrupt("return",t.data.country_name);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return","Russia");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"getLifeExpectancyData",value:function(e){switch(e){case"Ukraine":return new E(71.8,67.1,76.9);case"Russia":return new E(70.3,64.3,76.4);case"Belarus":return new E(72.7,67.2,78.6);case"United States":return new E(79.8,77.5,82.1);case"Germany":return new E(80.7,78.4,83.1);case"United Kingdom":return new E(80.7,78.5,83);default:return new E(70.3,64.3,76.4)}}},{key:"tryGetProfileFromMemory",value:function(){if(null!==localStorage.getItem("profile"))try{var e=localStorage.getItem("currentLifeExpectancy");if(e){var t=e.split("-");t.every(function(e){return null!==e})&&(this.currentLifeExpectancy=new E(parseInt(t[0]),parseInt(t[1]),parseInt(t[2])))}var r=localStorage.getItem("gender"),n=localStorage.getItem("country"),a=localStorage.getItem("name"),i=localStorage.getItem("birthDate"),o=[r,n,a,i];if(o.every(function(e){return null!==e}))return new S(r,n,i,a)}catch(e){return name}return this.removeProfileFromMemory(),null}},{key:"recordProfileInMemory",value:function(){localStorage.setItem("gender",this.profile.gender),localStorage.setItem("country",this.profile.country),localStorage.setItem("birthDate",this.profile.birthDate),this.profile.name&&localStorage.setItem("name",this.profile.name);var e=this.currentLifeExpectancy.overall+"-"+this.currentLifeExpectancy.male+"-"+this.currentLifeExpectancy.female;localStorage.setItem("currentLifeExpectancy",e),localStorage.setItem("profile","+")}},{key:"removeProfileFromMemory",value:function(){localStorage.removeItem("gender"),localStorage.removeItem("country"),localStorage.removeItem("name"),localStorage.removeItem("birthDate"),localStorage.removeItem("currentLifeExpectancy"),localStorage.removeItem("profile")}},{key:"emitResults",value:function(){this.memberMe?this.recordProfileInMemory():this.removeProfileFromMemory(),this.$emit("showResults",{profile:this.profile,currentLifeExpectancy:this.currentLifeExpectancy})}}]),Object(c["a"])(t,e),t}(f["c"]);A=u["a"]([f["a"]],A);var D=A,R=D,$=(r("b018"),Object(O["a"])(R,j,k,!1,null,"941bc0dc",null));$.options.__file="AgeingProfile.vue";var B=$.exports,U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},N=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"WhatIsIt"},[r("h1",[e._v("- Зачем?")]),r("p",[e._v("- Я не покажу вам дату смерти, я только помогу осознать что жизнь конечна.")]),r("h1",[e._v("- Что мне делать после?")]),r("p",[e._v("- Постарайся сделать выводы для себя.")]),r("h1",[e._v("- Для кого это?")]),r("p",[e._v("- Не знаю, а зачем ты тут?")])])}],q=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(f["c"]);q=u["a"]([f["a"]],q);var F=q,G=F,W=(r("ed6f"),Object(O["a"])(G,U,N,!1,null,"853dc874",null));W.options.__file="WhatIsIt.vue";var T=W.exports,J=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.previousPage="AgeingProfile",e.currentPage="AgeingProfile",e.results={},e}return Object(m["a"])(t,[{key:"showResults",value:function(e){this.results=e,this.previousPage=this.currentPage,this.currentPage="AgeingResults"}},{key:"getBack",value:function(){this.currentPage=this.previousPage}}]),Object(c["a"])(t,e),t}(f["c"]);J=u["a"]([Object(f["a"])({components:{AgeingResults:x,AgeingProfile:B,WhatIsIt:T}})],J);var K=J,z=K,H=(r("efd3"),Object(O["a"])(z,p,v,!1,null,null,null));H.options.__file="CalendarOfAgeing.vue";var Q=H.exports,V=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(f["c"]);V=u["a"]([Object(f["a"])({components:{CalendarOfAgeing:Q}})],V);var X=V,Y=X,Z=Object(O["a"])(Y,a,i,!1,null,null,null);Z.options.__file="App.vue";var ee=Z.exports;n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(ee)}}).$mount("#app")},d467:function(e,t,r){},ed6f:function(e,t,r){"use strict";var n=r("d467"),a=r.n(n);a.a},efd3:function(e,t,r){"use strict";var n=r("b328"),a=r.n(n);a.a}});
//# sourceMappingURL=app.js.map